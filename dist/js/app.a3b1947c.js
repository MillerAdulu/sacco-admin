(function(e){function t(t){for(var s,o,r=t[0],l=t[1],c=t[2],d=0,u=[];d<r.length;d++)o=r[d],n[o]&&u.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);m&&m(t);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},n={app:0},i=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var m=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1a59":function(e,t,a){"use strict";var s=a("b9cc"),n=a.n(s);n.a},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=i(e);return a(t)}function i(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("bf40"),a("d1e7");var s=a("c0a4"),n=a.n(s),i=a("8ca0"),o=a.n(i),r=a("2b0e"),l=(a("a1fc"),a("ce5b")),c=a.n(l),m=a("7bb1"),d=a("2b52"),u=a("bf1a"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-fade-transition",{attrs:{appear:""}},[a("router-view")],1)],1)},p=[],b={name:"App"},h=b,f=a("2877"),g=Object(f["a"])(h,v,p,!1,null,null,null),y=g.exports,_=a("8c4f"),x=a("2f62"),k=a("0e44");r["default"].use(x["a"]);var N=function(e){return function(t,a){return t[e]=a}},M=new x["a"].Store({state:{administratorId:null,administratorLevel:null,newMemberRecordKey:null,stepperContinueEnabled:!0,loggedInUser:{},isLoading:!1,isReady:!1,snackbar:{}},getters:{administratorId:function(e){return e.administratorId},administratorLevel:function(e){return e.administratorLevel},newMemberRecordKey:function(e){return e.newMemberRecordKey},stepperContinueEnabled:function(e){return e.stepperContinueEnabled},loggedInUser:function(e){return e.loggedInUser},snackbar:function(e){return e.snackbar}},mutations:{loadAdminId:function(e,t){e.administratorId=t},loadAdminLevel:function(e,t){e.administratorLevel=t},setNewMemberRecordKey:function(e,t){e.newMemberRecordKey=t},setStepperStatus:function(e,t){e.stepperContinueEnabled=t},setLoggedInUser:function(e,t){e.loggedInUser=t},setSnackbar:function(e,t){e.snackbar=t},setIsReady:N("isReady"),setIsLoading:N("isLoading"),setUser:N("user")},plugins:[Object(k["a"])({reducer:function(e){return{loggedInUser:{accessLevel:e.loggedInUser.accessLevel,token:e.loggedInUser.token}}}})]}),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-card",[a("v-card-title",[e._v("\n          Total Members\n          "),a("v-spacer"),a("v-btn",{attrs:{to:"admin/memberlist"}},[e._v("View All")])],1),a("v-card-text",[a("v-chip",[e._v(e._s(e.totalMembers))])],1)],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-card",[a("v-card-title",[e._v("\n          Total Member Deposits\n          "),a("v-spacer"),a("v-btn",{attrs:{to:"admin/memberdeposits"}},[e._v("View All")])],1),a("v-card-text",[a("v-chip",[e._v(e._s(e.totalDeposits)+" KES")])],1)],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-card",[a("v-card-title",[e._v("\n          Total Member Loans\n          "),a("v-spacer"),a("v-btn",{attrs:{to:"admin/memberloans"}},[e._v("View All")])],1),a("v-card-text",[a("v-chip",[e._v(e._s(e.totalMemberLoans)+" KES")])],1)],1)],1)],1),a("base-snackbar")],1)},L=[],S=a("c93e"),$=a("bc3a"),I=a.n($),P=a("04ac"),j=a.n(P),D=a("2452");a("ed18").config();var A=new D["ExponentialBackoff"]({min:10,factor:2,jitter:0}),C={Authorization:"Bearer ".concat(M.getters.loggedInUser.token)},O=I.a.create({baseURL:"".concat("https://sedcapi.herokuapp.com/api"),headers:Object(S["a"])({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},C)});j()(O,{retries:3,retryDelay:function(){return A.next()}});var U=O,E={name:"Dashboard",data:function(){return{totalMembers:null,totalDeposits:null,totalMemberLoans:null}},methods:{fetchMembers:function(){var e=this;this.$can("read","Member")?U.get("/dashboard/members").then(function(t){e.totalMembers=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch members",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view members",type:"error",model:!0})},fetchDeposits:function(){var e=this;this.$can("read","MemberDeposit")?U.get("/dashboard/deposits").then(function(t){e.totalDeposits=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch deposits",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view deposits",type:"error",model:!0})},fetchMemberLoans:function(){var e=this;this.$can("read","MemberLoan")?U.get("/dashboard/memberloans").then(function(t){e.totalMemberLoans=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch loans",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view member loans",type:"error",model:!0})}},mounted:function(){this.fetchMembers(),this.fetchDeposits(),this.fetchMemberLoans()}},R=E,Y=Object(f["a"])(R,w,L,!1,null,null,null),T=Y.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-img",{attrs:{src:e.loggedInMember.member.passportPhoto}}),a("v-card-title",[e._v("Welcome back, "+e._s(e.loggedInMember.member.lastName))]),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("p",{staticClass:"text-xs-left"},[e._v("\n          Member ID:\n        ")])]),a("v-flex",{attrs:{xs4:""}},[a("p",{staticClass:"text-xs-right"},[e._v("\n          "+e._s(e.loggedInMember.member.memberId)+"\n        ")])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("p",{staticClass:"text-xs-left"},[e._v("\n          Phone Number:\n        ")])]),a("v-flex",{attrs:{xs4:""}},[a("p",[e._v("\n          "+e._s(e.loggedInMember.phoneNumber)+"\n        ")])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("p",{staticClass:"text-xs-left"},[e._v("\n          Deposits this month\n        ")])]),a("v-flex",{attrs:{xs4:""}},[a("p",{staticClass:"text-xs-right"},[e._v("\n          999 KES\n        ")])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("p",{staticClass:"text-xs-left"},[e._v("\n          Total Deposits\n        ")])]),a("v-flex",{attrs:{xs4:""}},[a("p",{staticClass:"text-xs-right"},[e._v("\n          999 KES\n        ")])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("p",{staticClass:"text-xs-left"},[e._v("\n          Loans\n        ")])]),a("v-flex",{attrs:{xs4:""}},[a("p",{staticClass:"text-xs-right"},[e._v("\n          999 KES\n        ")])])],1)],1),a("base-snackbar")],1)},z=[],q={name:"MemberDashboard",data:function(){return{loggedInMember:JSON.parse(localStorage.getItem("loggedInUser")),member:null}},methods:{fetchMemberData:function(){var e=this;this.$can("read","Member")?U.get("members/".concat(this.loggedInMember.member.memberId)).then(function(t){e.member=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load your data at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view member details",type:"error",model:!0})}},created:function(){this.fetchMemberData()}},V=q,F=Object(f["a"])(V,B,z,!1,null,null,null),K=F.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("Basic Details")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v("Address(es)")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.e1>3,step:"3"}},[e._v("Payment Details")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.e1>4,step:"4"}},[e._v("Passport Photo")]),a("v-divider"),a("v-stepper-step",{attrs:{step:"5"}},[e._v("Nominees")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("BasicDetailsCapture"),a("v-btn",{attrs:{color:"primary",disabled:this.$store.getters.stepperContinueEnabled},on:{click:function(t){e.next(2)}}},[e._v("\n        Continue\n      ")])],1),a("v-stepper-content",{attrs:{step:"2"}},[a("AddressDetailsCapture"),a("v-btn",{attrs:{color:"primary",disabled:this.$store.getters.stepperContinueEnabled},on:{click:function(t){e.next(3)}}},[e._v("\n        Continue\n      ")])],1),a("v-stepper-content",{attrs:{step:"3"}},[a("PaymentMethodsCapture"),a("v-btn",{attrs:{color:"primary",disabled:this.$store.getters.stepperContinueEnabled},on:{click:function(t){e.next(4)}}},[e._v("\n        Continue\n      ")])],1),a("v-stepper-content",{attrs:{step:"4"}},[a("UploadPassportPhoto"),a("v-btn",{attrs:{color:"primary",disabled:this.$store.getters.stepperContinueEnabled},on:{click:function(t){e.next(5)}}},[e._v("\n        Continue\n      ")])],1),a("v-stepper-content",{attrs:{step:"5"}},[a("NomineeDetailsCapture"),a("v-btn",{attrs:{color:"primary",to:{name:"Member",params:{memberId:this.$store.getters.newMemberRecordKey}},disabled:this.$store.getters.stepperContinueEnabled}},[e._v("\n        Finish\n      ")]),a("v-btn",{attrs:{color:"green",to:"/admin/register",disabled:this.$store.getters.stepperContinueEnabled}},[e._v("\n        Add New Member\n      ")])],1)],1)],1)},W=[],J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:this.validations.identificationNumber,expression:"this.validations.identificationNumber"}],attrs:{required:"",label:"ID/Passport Number","error-messages":e.errors.collect("identificationNumber"),"data-vv-name":"identificationNumber","prepend-icon":"text_format",autofocus:""},model:{value:e.identificationNumber,callback:function(t){e.identificationNumber=t},expression:"identificationNumber"}})],1),a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.dateOfBirth,expression:"validations.dateOfBirth"}],attrs:{slot:"activator",required:"","data-vv-name":"dateOfBirth","error-messages":e.errors.collect("dateOfBirth"),label:"Birthday date","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.dateOfBirth,callback:function(t){e.dateOfBirth=t},expression:"dateOfBirth"}}),a("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:e.save},model:{value:e.dateOfBirth,callback:function(t){e.dateOfBirth=t},expression:"dateOfBirth"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.firstName,expression:"validations.firstName"}],attrs:{required:"","data-vv-name":"firstName","error-messages":e.errors.collect("firstName"),"prepend-icon":"text_format",label:"First Name"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-flex",{attrs:{xs4:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.lastName,expression:"validations.lastName"}],attrs:{required:"","data-vv-name":"lastName","error-messages":e.errors.collect("lastName"),"prepend-icon":"text_format",label:"Last Name"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-flex",{attrs:{xs4:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.otherName,expression:"validations.otherName"}],attrs:{"data-vv-name":"otherName","error-messages":e.errors.collect("otherName"),label:"Other Name","prepend-icon":"text_format"},model:{value:e.otherName,callback:function(t){e.otherName=t},expression:"otherName"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.phoneNumber,expression:"validations.phoneNumber"}],attrs:{required:"","data-vv-name":"phoneNumber",label:"Phone Number","error-messages":e.errors.collect("phoneNumber"),"prepend-icon":"phone"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),a("v-flex",{attrs:{xs4:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.email,expression:"validations.email"}],attrs:{label:"Email","data-vv-name":"email","error-messages":e.errors.collect("email"),"prepend-icon":"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-flex",{attrs:{xs4:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.proposedMonthlyDeposit,expression:"validations.proposedMonthlyDeposit"}],attrs:{required:"","data-vv-name":"proposedMonthlyDeposit",label:"Proposed Monthly Deposit","error-messages":e.errors.collect("proposedMonthlyDeposit"),"prepend-icon":"attach_money"},model:{value:e.proposedMonthlyDeposit,callback:function(t){e.proposedMonthlyDeposit=t},expression:"proposedMonthlyDeposit"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.kraPin,expression:"validations.kraPin"}],attrs:{required:"","data-vv-name":"kraPin",label:"KRA Pin","error-messages":e.errors.collect("kraPin"),"prepend-icon":"code"},model:{value:e.kraPin,callback:function(t){e.kraPin=t},expression:"kraPin"}})],1),a("v-flex",{attrs:{xs4:""}},[a("v-radio-group",{attrs:{mandatory:!0,row:""},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}},[a("v-radio",{attrs:{label:"Male",value:!0}}),a("v-radio",{attrs:{label:"Female",value:!1}})],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-autocomplete",{attrs:{"item-text":"maritalStatus","item-value":"maritalStatusId",items:e.maritalStatuses,label:"Select Marital Status"},model:{value:e.maritalStatus,callback:function(t){e.maritalStatus=t},expression:"maritalStatus"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-btn",{attrs:{color:"success",disabled:e.btnRegisterDisabled,loading:e.btnLoading},on:{click:e.registerMember}},[e._v("Register Member")]),a("v-btn",{attrs:{color:"error",disabled:e.btnRegisterDisabled},on:{click:e.clearForm}},[e._v("Clear")])],1),a("base-snackbar")],1)},H=[],Q=(a("96cf"),a("3040"));a("456d"),a("ac6a");function X(e){var t={};return Object.keys(e).forEach(function(a){e[a]&&(t[a]=e[a])}),t}var Z={prepareDataObject:X},ee=a("b383"),te=a.n(ee),ae={en:{attributes:{identificationNumber:"ID/Passport Number",firstName:"first name",lastName:"last name",otherName:"other name",phoneNumber:"phone number",proposedMonthlyDeposit:"proposed monthly Deposit",kraPin:"KRA pin"}}};m["a"].localize(ae);var se={$_veeValidate:{validator:"new"},name:"BasicDetailsCapture",data:function(){return{basicDetailsProgress:!1,basicDetailsSnackBarText:"",identificationNumber:"",dateOfBirth:"",firstName:"",lastName:"",otherName:"",phoneNumber:"",proposedMonthlyDeposit:"",email:"",kraPin:"",maritalStatus:"",gender:"",menu:!1,maritalStatuses:[],apiErrors:[],validations:{identificationNumber:"required|alpha_num|min:5",dateOfBirth:"required",firstName:"required|alpha|min:3",lastName:"required|alpha|min:3",otherName:"alpha|min:3",phoneNumber:"required|numeric|min:9",proposedMonthlyDeposit:"required|numeric",email:"email",kraPin:"min:5"},btnLoading:!1,btnRegisterDisabled:!1}},watch:{menu:function(e){var t=this;e&&this.$nextTick(function(){return t.$refs.picker.activePicker="YEAR"})}},methods:{save:function(e){this.$refs.menu.save(e)},registerMember:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$can("create","Member")){e.next=10;break}return this.startLoading(),e.next=4,this.$validator.validateAll();case 4:return e.next=6,Z.prepareDataObject({identification_number:this.identificationNumber,date_of_birth:this.dateOfBirth,first_name:this.firstName,last_name:this.lastName,other_name:this.otherName,phone_number:this.phoneNumber,proposed_monthly_deposit:this.proposedMonthlyDeposit,email:this.email,kra_pin:this.kraPin,marital_status_id:this.maritalStatus,gender:this.gender});case 6:t=e.sent,U.post("members",te.a.stringify(t)).then(function(e){a.$store.commit("setSnackbar",{msg:"".concat(a.lastName," has been added successfully"),type:"success",model:!0}),a.$store.commit("setNewMemberRecordKey",e.data.memberId),a.$store.commit("setStepperStatus",!1),a.clearForm(),a.btnRegisterDisabled=!0,a.stopLoading()}).catch(function(e){a.$store.commit("setSnackbar",{msg:"You are unable to add this member at this time",type:"error",model:!0}),a.stopLoading()}),e.next=11;break;case 10:this.$store.commit("setSnackbar",{msg:"You don't have permissions to add members",type:"error",model:!0});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),clearForm:function(){this.identificationNumber="",this.dateOfBirth="",this.firstName="",this.lastName="",this.otherName="",this.phoneNumber="",this.email="",this.proposedMonthlyDeposit="",this.maritalStatus="",this.gender="",this.kraPin="",this.$validator.reset()},getMaritalStatuses:function(){var e=this;this.$can("read","MaritalStatus")?U.get("maritalstatuses").then(function(t){e.maritalStatuses=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch marriage statuses at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view marital statuses",type:"error",model:!0})},startLoading:function(){this.btnLoading=!0},stopLoading:function(){this.btnLoading=!1}},created:function(){this.getMaritalStatuses()}},ne=se,ie=Object(f["a"])(ne,J,H,!1,null,null,null),oe=ie.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-card",[a("v-card-title",[e._v("Residential Address")]),a("v-card-text",[a("v-subheader",[e._v("What county does the member reside in? ")]),a("v-autocomplete",{attrs:{"item-text":"countyName","item-value":"countyId",items:e.counties,label:"Select County"},on:{input:function(t){e.getConstituencies(e.county)}},model:{value:e.county,callback:function(t){e.county=t},expression:"county"}})],1),e.county?a("v-card-text",[a("v-subheader",[e._v("What constituency does the member reside in? ")]),a("v-autocomplete",{attrs:{"item-text":"constituencyName","item-value":"constituencyId",items:e.constituencies,label:"Select Constituency"},on:{input:function(t){e.getLocalities(e.constituency)}},model:{value:e.constituency,callback:function(t){e.constituency=t},expression:"constituency"}})],1):e._e(),e.constituency?a("v-card-text",[a("v-subheader",[e._v("What locality does the member reside in? ")]),a("v-autocomplete",{attrs:{"item-text":"localityName","item-value":"localityId",label:"Select Locality",items:e.localities},model:{value:e.locality,callback:function(t){e.locality=t},expression:"locality"}})],1):e._e(),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card-text",[a("v-subheader",[e._v("What is the member's post office? ")]),a("v-autocomplete",{attrs:{label:"Select Post Office","item-text":"postOfficeName","item-value":"postOfficeId",items:e.postOffices},model:{value:e.postOfficeId,callback:function(t){e.postOfficeId=t},expression:"postOfficeId"}})],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-card-text",[a("v-subheader",[e._v("What is the member's postal address? ")]),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.postalAddress,expression:"validations.postalAddress"}],attrs:{label:"Post Office Address","data-vv-name":"postalAddress","error-messages":e.errors.collect("postalAddress")},model:{value:e.postalAddress,callback:function(t){e.postalAddress=t},expression:"postalAddress"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.street,expression:"validations.street"}],attrs:{label:"Street","data-vv-name":"street","error-messages":e.errors.collect("street")},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}})],1),a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.buildingName,expression:"validations.buildingName"}],attrs:{"data-vv-name":"buildingName","error-messages":e.errors.collect("buildingName"),label:"Building Name"},model:{value:e.buildingName,callback:function(t){e.buildingName=t},expression:"buildingName"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.floor,expression:"validations.floor"}],attrs:{required:"",label:"Floor","data-vv-name":"floor","error-messages":e.errors.collect("floor")},model:{value:e.floor,callback:function(t){e.floor=t},expression:"floor"}})],1),a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.houseNumber,expression:"validations.houseNumber"}],attrs:{label:"House Number","data-vv-name":"houseNumber","error-messages":e.errors.collect("houseNumber")},model:{value:e.houseNumber,callback:function(t){e.houseNumber=t},expression:"houseNumber"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-btn",{attrs:{color:"success",loading:e.btnLoading},on:{click:e.addAddress}},[e._v("Add Address")]),a("v-btn",{attrs:{color:"error"},on:{click:e.clearAddress}},[e._v("Clear Address")])],1),a("base-snackbar")],1)},le=[],ce={en:{attributes:{buildingName:"building name",houseNumber:"house number",postalAddress:"postal address"}}};m["a"].localize(ce);var me={$_veeValidate:{validator:"new"},name:"AddressDetailsCapture",data:function(){return{county:"",constituency:"",locality:"",street:null,buildingName:null,floor:null,houseNumber:null,postOfficeId:null,postalAddress:null,btnLoading:!1,counties:[],constituencies:[],localities:[],postOffices:[],validations:{street:"required|alpha_num|min:3",buildingName:"required|alpha_num|min:3",floor:"required|numeric",houseNumber:"required|alpha_num|min:1",postalAddress:"numeric"}}},created:function(){this.getCounties(),this.getPostOffices()},methods:{getCounties:function(){var e=this;this.$can("read","County")?U.get("counties").then(function(t){e.counties=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch counties at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view counties",type:"error",model:!0})},getConstituencies:function(e){var t=this;this.$can("read","County")?U.get("constituencies/county/".concat(e)).then(function(e){t.constituencies=e.data}).catch(function(e){t.$store.commit("setSnackbar",{msg:"Unable to fetch constituencies at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view constituencies",type:"error",model:!0})},getLocalities:function(e){var t=this;this.$can("read","Locality")?U.get("localities/constituency/".concat(e)).then(function(e){t.localities=e.data}).catch(function(e){t.$store.commit("setSnackbar",{msg:"Unable to fetch localities at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view localities",type:"error",model:!0})},getPostOffices:function(){var e=this;this.$can("read","PostOffice")?U.get("postoffices").then(function(t){e.postOffices=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch post offices at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view post offices",type:"error",model:!0})},addAddress:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$can("create","AddressDetails")){e.next=8;break}return this.startLoading(),e.next=4,Z.prepareDataObject({member_id:this.$store.getters.newMemberRecordKey,county_id:this.county,constituency_id:this.constituency,locality_id:this.locality,street:this.street,building_name:this.buildingName,floor:this.floor,house_number:this.houseNumber,post_office_id:this.postOfficeId,postal_address:this.postalAddress});case 4:t=e.sent,U.post("addressdetails",te.a.stringify(t)).then(function(e){a.$store.commit("setSnackbar",{msg:"Added! You can add more addresses",type:"success",model:!0}),a.$store.commit("setStepperStatus",!1),a.clearAddress(),a.stopLoading()}).catch(function(e){a.$store.commit("setSnackbar",{msg:"Unable to add addresses at this time",type:"error",model:!0}),a.stopLoading()}),e.next=9;break;case 8:this.$store.commit("setSnackbar",{msg:"You don't have permissions to add address details",type:"error",model:!0});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),clearAddress:function(){this.county="",this.constituency="",this.locality="",this.street=null,this.buildingName=null,this.floor=null,this.houseNumber=null,this.postOfficeId=null,this.postalAddress=null},startLoading:function(){this.btnLoading=!0},stopLoading:function(){this.btnLoading=!1}}},de=me,ue=Object(f["a"])(de,re,le,!1,null,null,null),ve=ue.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-card",[a("v-card-title",[e._v("Payment Method")]),a("v-card-text",[a("v-autocomplete",{attrs:{"item-text":"paymentMethod","item-value":"paymentMethodId",items:e.paymentMethods,label:"Payment Method"},on:{input:function(t){e.displayMethodForm(e.paymentMethod)}},model:{value:e.paymentMethod,callback:function(t){e.paymentMethod=t},expression:"paymentMethod"}})],1),e.viewBank?a("v-card-text",[a("v-text-field",{attrs:{label:"Bank Name"},model:{value:e.bankName,callback:function(t){e.bankName=t},expression:"bankName"}}),a("v-text-field",{attrs:{label:"Bank Account Number"},model:{value:e.bankAccountNumber,callback:function(t){e.bankAccountNumber=t},expression:"bankAccountNumber"}}),a("v-text-field",{attrs:{label:"Bank Card Number"},model:{value:e.bankCardNumber,callback:function(t){e.bankCardNumber=t},expression:"bankCardNumber"}})],1):e._e(),e.viewPhone?a("v-card-text",[a("v-text-field",{attrs:{label:"Service Provider"},model:{value:e.provider,callback:function(t){e.provider=t},expression:"provider"}}),a("v-text-field",{attrs:{label:"Phone Number"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1):e._e(),a("v-card-text")],1),a("v-layout",[a("v-btn",{attrs:{color:"success",loading:e.btnLoading},on:{click:e.addPaymentDetails}},[e._v("Add Payment Details")]),a("v-btn",{attrs:{color:"error"},on:{click:e.clearPaymentDetails}},[e._v("Clear Payment Details")])],1),a("base-snackbar")],1)},be=[],he={name:"PaymentMethodsCaputure",data:function(){return{success:"",paymentMethod:null,paymentMethods:[],bankName:null,bankAccountNumber:null,bankCardNumber:null,provider:null,phoneNumber:null,viewBank:!1,viewPhone:!1,btnLoading:!1}},methods:{displayMethodForm:function(e){1===e&&(this.viewBank=!0,this.viewPhone=!1),2===e&&(this.viewPhone=!0,this.viewBank=!1)},addPaymentDetails:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$can("create","PaymentDetails")){e.next=8;break}return this.startLoading(),e.next=4,Z.prepareDataObject({payment_method_id:this.paymentMethod,member_id:this.$store.getters.newMemberRecordKey,bank_name:this.bankName,bank_account_number:this.bankAccountNumber,card_number:this.bankCardNumber,provider:this.provider,phone_number:this.phoneNumber});case 4:t=e.sent,U.post("paymentdetails",te.a.stringify(t)).then(function(e){a.$store.commit("setStepperStatus",!1),a.clearPaymentDetails(),a.$store.commit("setSnackbar",{msg:"Added! You can add other payment details",type:"success",model:!0}),a.stopLoading()}).catch(function(e){a.$store.commit("setSnackbar",{msg:"Unable to add payment details at this time",type:"error",model:!0}),a.stopLoading()}),e.next=9;break;case 8:this.$store.commit("setSnackbar",{msg:"You don't have permissions to add payment details",type:"error",model:!0});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),clearPaymentDetails:function(){this.paymentMethod=null,this.bankName=null,this.bankAccountNumber=null,this.bankCardNumber=null,this.provider=null,this.phoneNumber=null},getPaymentMethods:function(){var e=this;this.$can("read","PaymentMethod")?U.get("paymentmethods").then(function(t){e.paymentMethods=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch payment methods at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view payment methods",type:"error",model:!0})},startLoading:function(){this.btnLoading=!0},stopLoading:function(){this.btnLoading=!1}},created:function(){this.getPaymentMethods()}},fe=he,ge=Object(f["a"])(fe,pe,be,!1,null,null,null),ye=ge.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:this.validations.identificationNumber,expression:"this.validations.identificationNumber"}],attrs:{required:"",label:"ID/Passport Number","error-messages":e.errors.collect("identificationNumber"),"data-vv-name":"identificationNumber","prepend-icon":"text_format",autofocus:""},model:{value:e.identificationNumber,callback:function(t){e.identificationNumber=t},expression:"identificationNumber"}})],1),a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-autocomplete",{attrs:{"item-text":"relationshipName","item-value":"relationshipId",items:e.relationships,label:"Relationship to the member"},model:{value:e.relationshipId,callback:function(t){e.relationshipId=t},expression:"relationshipId"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.firstName,expression:"validations.firstName"}],attrs:{required:"","data-vv-name":"firstName","error-messages":e.errors.collect("firstName"),"prepend-icon":"text_format",label:"First Name"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-flex",{attrs:{xs4:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.lastName,expression:"validations.lastName"}],attrs:{required:"","data-vv-name":"lastName","error-messages":e.errors.collect("lastName"),"prepend-icon":"text_format",label:"Last Name"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-flex",{attrs:{xs4:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.otherName,expression:"validations.otherName"}],attrs:{"data-vv-name":"otherName","error-messages":e.errors.collect("otherName"),label:"Other Name","prepend-icon":"text_format"},model:{value:e.otherName,callback:function(t){e.otherName=t},expression:"otherName"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.phoneNumber,expression:"validations.phoneNumber"}],attrs:{required:"","data-vv-name":"phoneNumber",label:"Phone Number","error-messages":e.errors.collect("phoneNumber"),"prepend-icon":"phone"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.email,expression:"validations.email"}],attrs:{label:"Email","data-vv-name":"email","error-messages":e.errors.collect("email"),"prepend-icon":"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-btn",{attrs:{color:"success",disabled:e.btnRegisterDisabled,loading:e.btnLoading},on:{click:e.addNominee}},[e._v("Add Nominee")]),a("v-btn",{attrs:{color:"error",disabled:e.btnRegisterDisabled},on:{click:e.clearNominee}},[e._v("Clear Nominee")])],1),a("base-snackbar")],1)},xe=[],ke={en:{attributes:{identificationNumber:"ID/Passport Number",firstName:"first name",lastName:"last name",otherName:"other name",phoneNumber:"phone number",proposedMonthlyContribution:"proposed monthly contribution"}}};m["a"].localize(ke);var Ne={$_veeValidate:{validator:"new"},name:"NomineeDetailsCapture",data:function(){return{relationships:[],identificationNumber:"",relationshipId:"",firstName:"",lastName:"",otherName:"",phoneNumber:"",email:"",apiErrors:[],validations:{identificationNumber:"required|alpha_num|min:5",relationshipId:"required",firstName:"required|alpha_num|min:3",lastName:"required|alpha_num|min:3",otherName:"alpha_num|min:3",phoneNumber:"required|numeric|min:9",email:"email"},btnLoading:!1,btnRegisterDisabled:!1}},methods:{addNominee:function(){var e=Object(Q["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$can("create","Nominee")){e.next=9;break}return this.startLoading(),this.$validator.validateAll(),e.next=5,Z.prepareDataObject({member_id:this.$store.getters.newMemberRecordKey,identification_number:this.identificationNumber,relationship_id:this.relationshipId,first_name:this.firstName,last_name:this.lastName,other_name:this.otherName,phone_number:this.phoneNumber,email:this.email});case 5:t=e.sent,U.post("nominees",te.a.stringify(t)).then(function(e){a.$store.commit("setSnackbar",{msg:"".concat(a.lastName," added successfully. You can add another one"),type:"success",model:!0}),a.stopLoading(),a.$store.commit("setStepperStatus",!1),a.btnRegisterDisabled=!0,a.clearNominee()}).catch(function(e){a.$store.commit("setSnackbar",{msg:"Unable to add this nominee at this time",type:"error",model:!0}),a.stopLoading()}),e.next=10;break;case 9:this.$store.commit("setSnackbar",{msg:"You don't have permissions to add nominees",type:"error",model:!0});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getRelationships:function(){var e=this;this.$can("read","Relationship")?U.get("relationships").then(function(t){e.relationships=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load member relationships at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view member relationships",type:"error",model:!0})},clearNominee:function(){this.identificationNumber="",this.relationshipId="",this.firstName="",this.lastName="",this.otherName="",this.phoneNumber="",this.email=""},startLoading:function(){this.btnLoading=!0},stopLoading:function(){this.btnLoading=!1}},created:function(){this.getRelationships()}},Me=Ne,we=Object(f["a"])(Me,_e,xe,!1,null,null,null),Le=we.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"align-center":""}},[a("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:e.dropzoneOptions},on:{"vdropzone-sending":e.attemptUpload}})],1)},$e=[],Ie=a("92c3"),Pe=a.n(Ie),je=(a("1e3f"),{name:"UploadProfilePicture",data:function(){return{image:null,btnLoading:!1,dropzoneOptions:{url:"".concat("https://sedcapi.herokuapp.com/api","/members/account/uploadpassportphoto"),maxFilesize:.5,paramName:"passport_photo",maxFiles:1,acceptedFiles:"image/*",headers:C}}},components:{vueDropzone:Pe.a},methods:{attemptUpload:function(e,t,a){a.append("member_id",this.$store.getters.newMemberRecordKey),this.$store.commit("setStepperStatus",!1)}}}),De=je,Ae=Object(f["a"])(De,Se,$e,!1,null,null,null),Ce=Ae.exports,Oe={data:function(){return{e1:0}},name:"RegistrationStepper",props:{msg:String},components:{BasicDetailsCapture:oe,AddressDetailsCapture:ve,PaymentMethodsCapture:ye,NomineeDetailsCapture:Le,UploadPassportPhoto:Ce},methods:{next:function(e){this.e1=e,this.$store.commit("setStepperStatus",!0)}},onCreated:function(){this.$store.commit("setStepperStatus",!0)}},Ue=Oe,Ee=Object(f["a"])(Ue,G,W,!1,null,null,null),Re=Ee.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",[a("v-card-title",[e._v("\n      All Members\n      "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{loading:e.dataLoading,"rows-per-page-items":[20,30,40],headers:e.headers,search:e.search,"item-key":"memberId",items:e.members},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.memberId))]),a("td",[e._v(e._s(t.item.identificationNumber))]),a("td",[e._v(e._s(t.item.firstName))]),a("td",[e._v(e._s(t.item.lastName))]),a("td",[e._v(e._s(t.item.phoneNumber))]),a("td",[e._v(e._s(t.item.proposedMonthlyContribution))]),a("td",[a("Can",{attrs:{I:"read",a:"Member"}},[a("router-link",{attrs:{to:{name:"Member",params:{memberId:t.item.memberId}}}},[a("v-icon",[e._v("\n                list\n              ")])],1)],1),a("Can",{attrs:{I:"update",a:"Member"}},[a("router-link",{attrs:{to:{name:"MemberUpdate",params:{memberId:t.item.memberId}}}},[a("v-icon",[e._v("\n                edit\n              ")])],1)],1)],1)]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1)],1),a("base-snackbar")],1)},Te=[],Be={name:"MemberList",data:function(){return{dataLoading:!0,snack:!1,snackColor:"",snackText:"",members:[],search:"",headers:[{text:"Member ID",value:"memberId"},{text:"ID/Passport Number",value:"identificationNumber"},{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Phone Number",value:"phoneNumber"},{text:"Monthly Contribution",value:"proposedMonthlyContribution"},{text:"Actions",value:"name",sortable:!1}],apiErrors:[]}},methods:{fetchMembers:function(){var e=this;this.$can("read","Member")?(this.startLoading(),U.get("members").then(function(t){e.members=t.data,e.stopLoading()}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch members at this time",type:"error",model:!0}),e.stopLoading()})):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view members",type:"error",model:!0})},startLoading:function(){this.dataLoading=!0},stopLoading:function(){this.dataLoading=!1}},created:function(){this.fetchMembers()}},ze=Be,qe=Object(f["a"])(ze,Ye,Te,!1,null,null,null),Ve=qe.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",[a("v-layout",{attrs:{row:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"display-1"},[e._v(e._s(e.member.lastName)+", "+e._s(e.member.firstName)+" "+e._s(e.member.otherName))]),a("div",{staticClass:"title"},[e._v("Phone Number: "),a("a",{attrs:{tel:"`${member.phoneNumber}`"}},[e._v(e._s(e.member.phoneNumber))])]),a("div",[e._v("Email: "+e._s(e.member.email))]),a("v-divider",{attrs:{light:""}}),a("div",{staticClass:"subheading"},[e._v(" Member ID: "+e._s(e.member.memberId)+" ")]),a("div",{staticClass:"subheading"},[e._v(" Gender: "+e._s(e.member.gender?"Male":"Female")+" ")]),e.member?a("div",{staticClass:"subheading"},[e._v(" Marital Status: "+e._s(e.member.maritalStatusInfo.maritalStatus)+" ")]):e._e()],1)]),a("v-spacer"),a("img",{attrs:{src:e.member.passportPhoto}})],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-tabs",{attrs:{grow:"","fixed-tabs":""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e._l(e.tabs,function(t){return a("v-tab",{key:e.tabs.indexOf(t)},[e._v(" "+e._s(t)+" ")])}),a("v-tabs-items",[a("v-tab-item",[a("Addresses",{attrs:{addresses:e.addressdetails}})],1),a("v-tab-item",[a("PaymentMethods",{attrs:{paymentmethods:e.paymentmethods}})],1),a("v-tab-item",[a("Deposits",{attrs:{deposits:e.deposits}})],1),a("v-tab-item",[a("MemberLoans",{attrs:{memberLoans:e.loans}})],1),a("v-tab-item",[a("ShowNominees",{attrs:{nominees:e.nominees}})],1)],1)],2)],1)],1),a("base-snackbar")],1)},Ke=[],Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-iterator",{attrs:{items:e.addresses,"rows-per-page-items":e.rowsPerPageItems,"content-tag":"v-layout",row:"",wrap:""},scopedSlots:e._u([{key:"item",fn:function(t){return a("v-flex",{attrs:{xs12:"",md6:"",lg4:"",xl3:""}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Address")])]),a("v-divider"),a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[e._v("County:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.county.countyName))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Constituency:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.constituency.constituencyName))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Locality:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.locality.localityName))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Street:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.street))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Building Name:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.buildingName))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Floor:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.floor))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("House Number:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.houseNumber))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Post Office:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.postOffice.postOfficeName))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Postal Address:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.postalAddress))])],1),a("v-list-tile",[a("Can",{attrs:{I:"update",a:"AddressDetails"}},[a("v-btn",{on:{click:function(a){e.editAddress(t.item.addressDetailId)}}},[e._v("Edit")])],1),a("Can",{attrs:{I:"delete",a:"AddressDetails"}},[a("v-btn",{attrs:{loading:e.btnLoading},on:{click:function(a){e.deleteAddress(t.item)}}},[e._v("Delete")])],1)],1)],1)],1)],1)}}])},[a("base-snackbar")],1)},We=[],Je={data:function(){return{btnLoading:!1,rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:3}}},props:{addresses:Array},methods:{deleteAddress:function(e){var t=this;if(this.$can("delete","AddressDetails"))this.startLoading(),U.delete("addressdetails/".concat(e.addressDetailId)).then(function(a){var s={msg:a?"This address has been deleted":a.statusText,type:"success",model:!0};t.$store.commit("setSnackbar",s),t.addresses.pop(e),t.stopLoading()}).catch(function(e){var a={msg:"Currently unable to delete this address",type:"error",model:!0};t.$store.commit("setSnackbar",a),t.stopLoading()});else{var a={msg:"You don't have permissions to delete this address",type:"error",model:!0};this.$store.commit("setSnackbar",a)}},editAddress:function(e){if(this.$can("update","AddressDetails"))this.$router.push("/admin/editaddress/".concat(e));else{var t={msg:"You don't have permissions to edit this address",type:"error",model:!0};this.$store.commit("setSnackbar",t)}},startLoading:function(){this.btnLoading=!0},stopLoading:function(){this.btnLoading=!1}}},He=Je,Qe=Object(f["a"])(He,Ge,We,!1,null,null,null),Xe=Qe.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-iterator",{attrs:{items:e.paymentmethods,"rows-per-page-items":e.rowsPerPageItems,"content-tag":"v-layout",row:"",wrap:""},scopedSlots:e._u([{key:"item",fn:function(t){return a("v-flex",{attrs:{xs12:"",md6:"",lg4:"",xl3:""}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Payment Method: "+e._s(t.item.paymentMethodName))])]),a("v-divider"),a("v-list",{attrs:{dense:""}},[t.item.bankName?a("v-list-tile",[a("v-list-tile-content",[e._v("Bank Name:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.bankName))])],1):e._e(),t.item.bankAccountNumber?a("v-list-tile",[a("v-list-tile-content",[e._v("Bank Account:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.bankAccountNumber))])],1):e._e(),t.item.cardNumber?a("v-list-tile",[a("v-list-tile-content",[e._v("Bank Card Number:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.cardNumber))])],1):e._e(),t.item.serviceProvider?a("v-list-tile",[a("v-list-tile-content",[e._v("Service Provider:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.serviceProvider))])],1):e._e(),t.item.phoneNumber?a("v-list-tile",[a("v-list-tile-content",[e._v("Phone Number:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.phoneNumber))])],1):e._e()],1)],1)],1)}}])})},et=[],tt={data:function(){return{rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:3}}},methods:{},props:{paymentmethods:Array}},at=tt,st=Object(f["a"])(at,Ze,et,!1,null,null,null),nt=st.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-iterator",{attrs:{items:e.nominees,"rows-per-page-items":e.rowsPerPageItems,"content-tag":"v-layout",row:"",wrap:""},scopedSlots:e._u([{key:"item",fn:function(t){return a("v-flex",{attrs:{xs6:""}},[a("v-card",[a("v-card-title",[a("h4",[e._v(e._s(t.item.lastName)+", "+e._s(t.item.firstName)+" "+e._s(t.item.otherName))])]),a("v-divider"),a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[e._v("Passport/ID Number:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.identificationNumber))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Relationship:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.relationship))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Phone Number:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.phoneNumber))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Email:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.email))])],1)],1)],1)],1)}}])})},ot=[],rt={data:function(){return{rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:3}}},methods:{},props:{nominees:Array}},lt=rt,ct=Object(f["a"])(lt,it,ot,!1,null,null,null),mt=ct.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{attrs:{headers:e.headers,items:e.deposits,"rows-per-page-items":e.rowsPerPageItems,"content-tag":"v-layout",row:"",wrap:""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.memberDepositId))]),a("td",[e._v(e._s(t.item.paymentMethod.paymentMethod))]),a("td",[e._v(e._s(t.item.depositAmount))]),a("td",[e._v(e._s(t.item.comment))]),a("td",[e._v(e._s(e.moment(t.item.createdAt).format("MMMM Do YYYY, h:mm:ss a")))])]}}])})},ut=[],vt=a("c1df"),pt=a.n(vt),bt={data:function(){return{width:600,height:300,moment:pt.a,headers:[{text:"Deposit ID",value:"memberDepositId"},{text:"Payment Method",value:"paymentMethod.paymentMethod"},{text:"Deposit Amount",value:"depositAmount"},{text:"Comment",value:"comment"},{text:"Date",value:"createdAt"}],rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:3}}},props:{deposits:Array}},ht=bt,ft=Object(f["a"])(ht,dt,ut,!1,null,null,null),gt=ft.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{attrs:{headers:e.headers,items:e.memberLoans,"rows-per-page-items":e.rowsPerPageItems},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.memberLoanId))]),a("td",[e._v(e._s(t.item.loanType.loanTypeName))]),a("td",[e._v(e._s(t.item.loanAmount))]),a("td",[e._v(e._s(t.item.loanRepaymentStatus.loanRepaymentStatus))]),a("td",[e._v(e._s(t.item.repaymentPeriod))]),a("td",[e._v(e._s(e.moment(t.item.createdAt).format("MMMM Do YYYY, h:mm:ss a")))]),a("td",[a("router-link",{attrs:{to:"/admin/memberloans/"+t.item.memberLoanId}},[a("v-icon",[e._v("list")])],1)],1)]}}])})},_t=[],xt={name:"MemberLoans",data:function(){return{moment:pt.a,rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:4},headers:[{text:"Loan ID",value:"memberLoanId"},{text:"Loan Type",value:"loanType.loanTypeName"},{text:"Amount",value:"loanAmount"},{text:"Repayment Status",value:"loanRepaymentStatus.loanRepaymentStatus"},{text:"Repayment Period",value:"repaymentPeriod"},{text:"Date Taken",value:"createdAt"},{text:"Actions",value:"name"}]}},props:{memberLoans:Array}},kt=xt,Nt=Object(f["a"])(kt,yt,_t,!1,null,null,null),Mt=Nt.exports,wt={data:function(){return{memberId:this.$route.params.memberId,member:null,addressdetails:[],paymentmethods:[],deposits:[],loans:[],nominees:[],activeTab:null,tabs:["Address(es)","Payment Methods","Deposits","Loans","Nominees"],apiErrors:[]}},components:{Addresses:Xe,PaymentMethods:nt,ShowNominees:mt,Deposits:gt,MemberLoans:Mt},methods:{fetchMember:function(){var e=this;this.$can("read","Member")?U.get("members/".concat(this.memberId)).then(function(t){e.member=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load this member at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view members",type:"error",model:!0})},fetchAddressDetails:function(){var e=this;this.$can("read","AddressDetails")?U.get("/addressdetails/members/".concat(this.memberId)).then(function(t){e.addressdetails=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load this member's addresses at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view address details",type:"error",model:!0})},fetchPaymentMethods:function(){var e=this;this.$can("read","PaymentMethods")?U.get("/paymentdetails/members/".concat(this.memberId)).then(function(t){e.paymentmethods=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load this member's payment methods at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view payment methods",type:"error",model:!0})},fetchNominees:function(){var e=this;this.$can("read","Nominee")?U.get("/nominees/members/".concat(this.memberId)).then(function(t){e.nominees=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load this member's nominees at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view nominees",type:"error",model:!0})},fetchDeposits:function(){var e=this;this.$can("read","MemberDeposit")?U.get("/memberdeposits/members/".concat(this.memberId)).then(function(t){e.deposits=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load this member's deposits at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view member deposits",type:"error",model:!0})},fetchLoans:function(){var e=this;this.$can("read","MemberLoan")?U.get("loans/member/".concat(this.memberId)).then(function(t){e.loans=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load this member's loans at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view member loans",type:"error",model:!0})}},created:function(){this.fetchMember(),this.fetchAddressDetails(),this.fetchPaymentMethods(),this.fetchNominees(),this.fetchDeposits(),this.fetchLoans()}},Lt=wt,St=Object(f["a"])(Lt,Fe,Ke,!1,null,null,null),$t=St.exports,It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},Pt=[],jt={data:function(){return{}},methods:{fetchMember:function(){U.get("members/"+this.$route.params.memberId).then(function(e){}).catch(function(e){})}},created:function(){this.fetchMember()}},Dt=jt,At=Object(f["a"])(Dt,It,Pt,!1,null,null,null),Ct=At.exports,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",[a("v-card-title",[e._v("All Deposits\n      "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{loading:e.dataLoading,"rows-per-page-items":[20,30,40],headers:e.headers,search:e.search,"item-key":"memberDepositId",items:e.deposits},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.member.lastName))]),a("td",[e._v(e._s(t.item.paymentMethod.paymentMethod))]),a("td",[e._v(e._s(t.item.contributionAmount))]),a("td",[e._v(e._s(t.item.createdAt))]),a("td",[a("Can",{attrs:{I:"read",a:"Member"}},[a("router-link",{attrs:{to:{name:"Member",params:{memberId:t.item.memberDepositId}}}},[a("v-icon",[e._v("\n                list\n              ")])],1)],1),a("Can",{attrs:{I:"update",a:"Member"}},[a("router-link",{attrs:{to:{name:"MemberUpdate",params:{memberId:t.item.memberDepositId}}}},[a("v-icon",[e._v("\n                edit\n              ")])],1)],1)],1)]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1)],1),a("base-snackbar")],1)},Ut=[],Et={name:"Deposits",data:function(){return{search:"",dataLoading:!1,headers:[{text:"Member",value:"member.lastName"},{text:"Payment Method",value:"paymentMethod.paymentMethod"},{text:"Deposit Amount",value:"depositAmount"},{text:"Date",value:"createdAt"}],deposits:[]}},methods:{fetchAccountData:function(){var e=this;this.$can("read","MemberDeposit")?(this.startLoading(),U.get("memberdeposits").then(function(t){e.deposits=t.data,e.stopLoading()}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch member deposits at this time",type:"error",model:!0}),e.stopLoading()})):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view deposits",type:"error",model:!0})},startLoading:function(){this.dataLoading=!0},stopLoading:function(){this.dataLoading=!1}},created:function(){this.fetchAccountData()}},Rt=Et,Yt=Object(f["a"])(Rt,Ot,Ut,!1,null,null,null),Tt=Yt.exports,Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-autocomplete",{attrs:{"item-text":"paymentMethod","item-value":"paymentMethodId",items:e.paymentMethods},model:{value:e.paymentMethodId,callback:function(t){e.paymentMethodId=t},expression:"paymentMethodId"}})],1),a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-autocomplete",{attrs:{"item-text":"memberId","item-value":"memberId",items:e.members},model:{value:e.memberId,callback:function(t){e.memberId=t},expression:"memberId"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{attrs:{label:"Member Deposit"},model:{value:e.depositAmount,callback:function(t){e.depositAmount=t},expression:"depositAmount"}})],1),a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{attrs:{label:"Comment"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1)],1),a("v-layout",[a("v-btn",{attrs:{block:"",color:"success",loading:e.btnLoading},on:{click:e.addMemberDeposit}},[e._v("Add Member Deposit")])],1),a("base-snackbar")],1)},zt=[],qt={data:function(){return{memberId:"",depositAmount:"",paymentMethodId:"",comment:"",btnLoading:!1,members:[],paymentMethods:[]}},methods:{addMemberDeposit:function(){var e=this;this.$can("create","MemberDeposit")?(this.startLoading(),U.post("memberdeposits",te.a.stringify({member_id:this.memberId,deposit_amount:this.depositAmount,payment_method_id:this.paymentMethodId,comment:this.comment})).then(function(t){console.log(t.data),e.$store.commit("snackbar",{msg:"Deposit added successfully",type:"success",model:!0}),e.stopLoading()}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to add this deposit at this moment",type:"error",model:!0}),e.stopLoading()})):this.$store.commit("setSnackbar",{msg:"You don't have permissions to add a deposit",type:"error",model:!0})},fetchMembers:function(){var e=this;this.$can("read","Member")?U.get("members").then(function(t){e.members=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch members at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view members",type:"error",model:!0})},fetchPaymentMethods:function(){var e=this;this.$can("read","PaymentMethod")?U.get("paymentmethods").then(function(t){e.paymentMethods=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch payment methods at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view payment methods",type:"error",model:!0})},startLoading:function(){this.btnLoading=!0},stopLoading:function(){this.btnLoading=!1}},created:function(){this.fetchMembers(),this.fetchPaymentMethods()}},Vt=qt,Ft=Object(f["a"])(Vt,Bt,zt,!1,null,null,null),Kt=Ft.exports,Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",[a("v-card-title",[e._v("All Accounts\n      "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{loading:e.dataLoading,"rows-per-page-items":[20,30,40],headers:e.headers,search:e.search,"item-key":"member.memberId",items:e.accounts},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.member.lastName))]),a("td",[e._v(e._s(t.item.member.firstName))]),a("td",[e._v(e._s(t.item.member.otherName))]),a("td",[e._v(e._s(t.item.contributionTotal))]),a("td",[a("Can",{attrs:{I:"read",a:"Member"}},[a("router-link",{attrs:{to:{name:"Member",params:{memberId:t.item.member.memberId}}}},[a("v-icon",[e._v("\n                list\n              ")])],1)],1),a("Can",{attrs:{I:"update",a:"Member"}},[a("router-link",{attrs:{to:{name:"MemberUpdate",params:{memberId:t.item.memberContributionId}}}},[a("v-icon",[e._v("\n                edit\n              ")])],1)],1)],1)]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1)],1),a("base-snackbar")],1)},Wt=[],Jt={name:"Accounts",data:function(){return{search:"",dataLoading:!1,headers:[{text:"Last Name",value:"member.lastName"},{text:"First Name",value:"member.firstName"},{text:"Other Name",value:"member.otherName"},{text:"Total Contribution",value:"contributionTotal"},{text:"Actions",value:"name"}],accounts:[]}},methods:{fetchAccountData:function(){var e=this;this.$can("read","MemberAccount")?(this.startLoading(),U.get("membercontributions/members/accounts/all").then(function(t){e.accounts=t.data,e.stopLoading()}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch these accounts at the moment",type:"error",model:!0}),e.stopLoading()})):(this.$store.commit("setSnackbar",{msg:"You dont' have permission to view this section",type:"error",model:!0}),this.stopLoading())},startLoading:function(){this.dataLoading=!0},stopLoading:function(){this.dataLoading=!1}},created:function(){this.fetchAccountData()}},Ht=Jt,Qt=Object(f["a"])(Ht,Gt,Wt,!1,null,null,null),Xt=Qt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",[a("v-card-title",[e._v("\n      All Loans\n      "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{loading:e.dataLoading,"rows-per-page-items":[20,30,40],headers:e.headers,search:e.search,"item-key":"memberLoanId",expand:"",items:e.memberLoans},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.memberLoanId))]),a("td",[e._v(e._s(t.item.member.lastName))]),a("td",[e._v(e._s(t.item.loanType.loanTypeName))]),a("td",[e._v(e._s(t.item.loanAmount))]),a("td",[e._v(e._s(t.item.repaymentPeriod))]),a("td",[e._v(e._s(t.item.loanRepaymentStatus.loanRepaymentStatus))]),a("td",[e._v(e._s(e.moment(t.item.createdAt).format("MMMM Do YYYY, h:mm:ss a")))]),a("td",[a("Can",{attrs:{I:"read",a:"Member"}},[a("router-link",{attrs:{to:{name:"LoanDetails",params:{memberLoanId:t.item.memberLoanId}}}},[a("v-icon",[e._v("\n              list\n            ")])],1)],1)],1)]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1)],1),a("base-snackbar")],1)},ea=[],ta={name:"MemberLoans",data:function(){return{moment:pt.a,dataLoading:!0,headers:[{text:"Loan ID",value:"memberLoanId"},{text:"Last Name",value:"member.lastName"},{text:"Loan Type",value:"loanType.loanTypeName"},{text:"Loan Amount",value:"loanAmount"},{text:"Repayment Period",value:"loanRepaymentPeriod"},{text:"Repayment Status",value:"loanRepaymentStatus.loanRepaymentStatus"},{text:"Date",value:"createdAt"},{text:"Actions",value:"name"}],search:"",memberLoans:[]}},methods:{fetchLoans:function(){var e=this;this.$can("read","MemberLoan")?U.get("loans/memberloans").then(function(t){e.memberLoans=t.data,e.dataLoading=!1}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load members loans at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view members loans",type:"error",model:!0})},startLoading:function(){this.dataLoading=!0},stopLoading:function(){this.dataLoading=!1}},created:function(){this.fetchLoans()}},aa=ta,sa=Object(f["a"])(aa,Zt,ea,!1,null,null,null),na=sa.exports,ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("h4",[e._v("Loan "+e._s(e.loanDetails.memberLoanId))])]),a("v-divider"),a("v-list",{attrs:{dense:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-list-tile",[a("v-list-tile-content",[e._v("Member:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e.loanDetails.member.lastName)+", "+e._s(e.loanDetails.member.firstName))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Loan Type:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e.loanDetails.loanType.loanTypeName))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Loan Purpose:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e.loanDetails.loanPurpose))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Loan Amount:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e.loanDetails.loanAmount))])],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-list-tile",[a("v-list-tile-content",[e._v("Repayment Method:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e.loanDetails.repaymentPeriod))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Contact:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e.loanDetails.member.phoneNumber))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Repayment Status:")]),a("v-list-tile-content",{staticClass:"align-end"},[a("v-chip",{attrs:{color:"red","text-color":"white"}},[e._v("\n              "+e._s(e.loanDetails.loanRepaymentStatus.loanRepaymentStatus)+"\n            ")])],1)],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Issuing Status:")]),a("v-list-tile-content",{staticClass:"align-end"},[a("v-chip",{attrs:{color:"red","text-color":"white"}},[e._v("\n              "+e._s(e.loanDetails.loanIssuingStatus.loanIssuingStatus)+"\n            ")])],1)],1)],1)],1)],1),a("v-divider"),a("v-divider"),a("h3",[e._v("Guarantors")]),a("Guarantors"),a("base-snackbar")],1)},oa=[],ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-iterator",{attrs:{items:e.loanGuarantors,"rows-per-page-items":e.rowsPerPageItems,"content-tag":"v-layout",row:"",wrap:""},scopedSlots:e._u([{key:"item",fn:function(t){return a("v-flex",{attrs:{xs6:""}},[a("v-card",[a("v-card-title",[a("h4",[e._v(e._s(t.item.lastName)+", "+e._s(t.item.firstName)+" "+e._s(t.item.otherName))])]),a("v-divider"),a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[e._v("Phone Number:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.phoneNumber))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("ID/Passport Number:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.identificationNumber))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Phone Number:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.phoneNumber))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Email:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.email))])],1)],1)],1)],1)}}])},[a("base-snackbar")],1)},la=[],ca={name:"Guarantors",data:function(){return{loanGuarantors:[],rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:3}}},methods:{fetchGuarantors:function(){var e=this;this.$can("read","LoanGuarantor")?U.get("loans/loan/".concat(this.$route.params.memberLoanId)).then(function(t){e.loanGuarantors=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch loan guarantors at this moment",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view loan guarantors",type:"error",model:!0})}},created:function(){this.fetchGuarantors()}},ma=ca,da=Object(f["a"])(ma,ra,la,!1,null,null,null),ua=da.exports,va={name:"LoanDetails",data:function(){return{loanDetails:{}}},components:{Guarantors:ua},methods:{getLoanDetails:function(){var e=this;this.$can("read","MemberLoan")?U.get("loans/memberloans/".concat(this.$route.params.memberLoanId)).then(function(t){e.loanDetails=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load this member loan",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view member loans",type:"error",model:!0})}},created:function(){this.getLoanDetails()}},pa=va,ba=Object(f["a"])(pa,ia,oa,!1,null,null,null),ha=ba.exports,fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-card",[a("v-card-title",[e._v("Residential Address")]),a("v-card-text",[a("v-subheader",[e._v("What county does the member reside in?")]),a("v-autocomplete",{attrs:{"item-text":"countyName","item-value":"countyId",items:e.counties,label:"Select County"},on:{input:function(t){e.getConstituencies(e.county)}},model:{value:e.county,callback:function(t){e.county=t},expression:"county"}})],1),e.county?a("v-card-text",[a("v-subheader",[e._v("What constituency does the member reside in?")]),a("v-autocomplete",{attrs:{"item-text":"constituencyName","item-value":"constituencyId",items:e.constituencies,label:"Select Constituency"},on:{input:function(t){e.getLocalities(e.constituency)}},model:{value:e.constituency,callback:function(t){e.constituency=t},expression:"constituency"}})],1):e._e(),e.constituency?a("v-card-text",[a("v-subheader",[e._v("What locality does the member reside in?")]),a("v-autocomplete",{attrs:{"item-text":"localityName","item-value":"localityId",label:"Select Locality",items:e.localities},model:{value:e.locality,callback:function(t){e.locality=t},expression:"locality"}})],1):e._e(),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card-text",[a("v-subheader",[e._v("What is the member's post office?")]),a("v-autocomplete",{attrs:{label:"Select Post Office","item-text":"postOfficeName","item-value":"postOfficeId",items:e.postOffices},model:{value:e.postOfficeId,callback:function(t){e.postOfficeId=t},expression:"postOfficeId"}})],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-card-text",[a("v-subheader",[e._v("What is the member's postal address?")]),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.postalAddress,expression:"validations.postalAddress"}],attrs:{label:"Post Office Address","data-vv-name":"postalAddress","error-messages":e.errors.collect("postalAddress")},model:{value:e.postalAddress,callback:function(t){e.postalAddress=t},expression:"postalAddress"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.street,expression:"validations.street"}],attrs:{label:"Street","data-vv-name":"street","error-messages":e.errors.collect("street")},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}})],1),a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.buildingName,expression:"validations.buildingName"}],attrs:{"data-vv-name":"buildingName","error-messages":e.errors.collect("buildingName"),label:"Building Name"},model:{value:e.buildingName,callback:function(t){e.buildingName=t},expression:"buildingName"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.floor,expression:"validations.floor"}],attrs:{required:"",label:"Floor","data-vv-name":"floor","error-messages":e.errors.collect("floor")},model:{value:e.floor,callback:function(t){e.floor=t},expression:"floor"}})],1),a("v-flex",{attrs:{xs6:"","mx-2":""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.validations.houseNumber,expression:"validations.houseNumber"}],attrs:{label:"House Number","data-vv-name":"houseNumber","error-messages":e.errors.collect("houseNumber")},model:{value:e.houseNumber,callback:function(t){e.houseNumber=t},expression:"houseNumber"}})],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-btn",{attrs:{color:"success"},on:{click:e.editAddress}},[e._v("Edit Address")]),a("v-btn",{attrs:{color:"error"},on:{click:e.cancelEdit}},[e._v("Cancel")])],1)],1)},ga=[],ya={en:{attributes:{buildingName:"building name",houseNumber:"house number",postalAddress:"postal address"}}};m["a"].localize(ya);var _a={$_veeValidate:{validator:"new"},name:"EditAddress",data:function(){return{counties:[],constituencies:[],localities:[],postOffices:[],apiErrors:[],validations:{street:"required|alpha_num|min:3",buildingName:"required|alpha_num|min:3",floor:"required|numeric",houseNumber:"required|alpha_num|min:1",postalAddress:"numeric"}}},methods:{getCounties:function(){var e=this;this.$can("read","County")?U.get("counties").then(function(t){e.counties=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch counties at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view counties",type:"error",model:!0})},getConstituencies:function(e){var t=this;this.$can("read","County")?U.get("constituencies/county/".concat(e)).then(function(e){t.constituencies=e.data}).catch(function(e){t.$store.commit("setSnackbar",{msg:"Unable to fetch constituencies at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view constituencies",type:"error",model:!0})},getLocalities:function(e){var t=this;this.$can("read","Locality")?U.get("localities/constituency/".concat(e)).then(function(e){t.localities=e.data}).catch(function(e){t.$store.commit("setSnackbar",{msg:"Unable to fetch localities at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view localities",type:"error",model:!0})},getPostOffices:function(){var e=this;this.$can("read","PostOffice")?U.get("postoffices").then(function(t){e.postOffices=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch post offices at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view post offices",type:"error",model:!0})},getAddressToEdit:function(){var e=this;if(this.$can("update","AddressDetails"))U.get("addressdetails/".concat(this.$route.params.address)).then(function(t){e.address=t.data}).catch(function(t){var a={msg:"Unable to fetch this address",type:"error",model:!0};e.$store.commit("setSnackbar",a)});else{var t={msg:"You don't have permissions to edit this address",type:"error",model:!0};this.$store.commit("setSnackbar",t)}},editAddress:function(){},cancelEdit:function(){this.$router.go(-1)}},created:function(){this.getCounties(),this.getPostOffices()}},xa=_a,ka=Object(f["a"])(xa,fa,ga,!1,null,null,null),Na=ka.exports,Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loggedInState?a("v-app",[a("v-navigation-drawer",{attrs:{persistent:"","mini-variant":e.miniVariant,clipped:e.clipped,"enable-resize-watcher":"",fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",[a("v-list-tile",[a("v-list-tile-action",[a("v-icon",[e._v("bubble_chart")])],1),a("v-list-tile-title",[e._v("\n          Administrator\n        ")])],1),a("v-list-tile",[a("v-list-tile-action",[a("v-icon",[e._v("dashboard")])],1),a("v-list-tile-content",[a("v-list-tile-title",[a("router-link",{attrs:{to:"/admin/"}},[e._v("\n              Dashboard\n            ")])],1)],1)],1),e._l(e.items,function(t){return a("v-list-group",{key:t.title,attrs:{"prepend-icon":t.action,"no-action":""}},[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.title))])],1)],1),e._l(t.items,function(t){return a("v-list-tile",{key:t.title},[a("v-list-tile-content",[a("v-list-tile-title",[a("router-link",{attrs:{to:{name:t.routerName}}},[e._v("\n                "+e._s(t.title)+"\n              ")])],1)],1),a("v-list-tile-action",[a("v-icon",[e._v(" "+e._s(t.action))])],1)],1)})],2)})],2)],1),a("v-toolbar",{attrs:{app:"","clipped-left":e.clipped}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.miniVariant=!e.miniVariant}}},[a("v-icon",{domProps:{innerHTML:e._s(e.miniVariant?"chevron_right":"chevron_left")}})],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.clipped=!e.clipped}}},[a("v-icon",[e._v("web")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.fixed=!e.fixed}}},[a("v-icon",[e._v("remove")])],1),a("v-toolbar-title",{domProps:{textContent:e._s(e.title)}}),a("v-spacer"),a("v-btn",{attrs:{color:"danger"},on:{click:e.logOut}},[e._v("Log Out")])],1),a("v-content",[a("router-view")],1),a("v-footer",{attrs:{fixed:e.fixed,app:""}},[a("span",[e._v(" Frog Technologies")])])],1):e._e()},wa=[],La={name:"Administrator",data:function(){return{clipped:!1,drawer:!0,fixed:!1,loggedInState:this.$store.getters.loggedInUser,items:[{action:"account_circle",title:"Member Management",items:[{action:"list",title:"All Members",routerName:"MemberList"},{action:"add_circle",title:"Register Member",routerName:"Registration"}]},{action:"account_box",title:"Account Management",items:[{action:"list",title:"Member Accounts",routerName:"MemberAccounts"},{action:"assignment_turned_in",title:"Member Deposits",routerName:"Deposits"},{action:"add_circle",title:"Add Deposit",routerName:"AddDeposit"}]},{action:"monetization_on",title:"Loan Management",items:[{action:"list",title:"All Loans",routerName:"MemberLoans"},{action:"add_circle",title:"Issue Loan"}]},{action:"attach_money",title:"Payments",items:[{action:"list",title:"All Payments"},{action:"assignment_turned_in",title:"View Payment Details"},{action:"add_circle",title:"Add Payment"},{action:"gesture",title:"Update Payment"},{action:"remove_circle",title:"Delete Payment"}]},{action:"account_balance_wallet",title:"Payment Methods",items:[{action:"list",title:"All Methods"},{action:"add_circle",title:"Add Method"},{action:"gesture",title:"Update Method"},{action:"remove_circle",title:"Remove Method"}]},{action:"assignment",title:"Report Generator",items:[{action:"account_circle",title:"All Members"},{action:"account_box",title:"All Accounts"},{action:"monetization_on",title:"All Loans"},{action:"attach_money",title:"All Payments"},{action:"create",title:"Custom Report"}]}],miniVariant:!1,title:"Sacco"}},methods:{logOut:function(){this.$store.commit("setLoggedInUser",{}),this.$router.push("/")}},watch:{loggedInState:function(){this.$router.push("/")}}},Sa=La,$a=Object(f["a"])(Sa,Ma,wa,!1,null,null,null),Ia=$a.exports,Pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{height:"200px",flat:""}},[a("div",{staticClass:"text-xs-center pa-0"},[a("v-layout",[a("v-flex",{attrs:{xs8:""}},[e._v("Your "+e._s(e.bottomNav))]),a("v-flex",{attrs:{"xs-4":""}},[a("v-btn",{on:{click:e.logOut}},[e._v("Log Out")]),a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n      Add Deposit\n    ")]),a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n        Add Deposit\n      ")]),a("v-card-text",[e._v("\n        This will allow you to add a deposit via mpesa "),a("br"),a("v-text-field",{model:{value:e.depositAmount,callback:function(t){e.depositAmount=t},expression:"depositAmount"}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.addDeposit}},[e._v("\n          Add\n        ")])],1)],1)],1)],1)],1),a("v-fade-transition",{attrs:{appear:""}},[a("router-view")],1)],1),a("v-bottom-nav",{attrs:{active:e.bottomNav,value:!0,fixed:"",color:"black",app:""},on:{"update:active":function(t){e.bottomNav=t}}},[a("v-btn",{attrs:{color:"teal",flat:"",value:"dashboard",to:{name:"MemberDashboard"}}},[a("span",[e._v("Profile")]),a("v-icon",[e._v("account_circle")])],1),a("v-btn",{attrs:{color:"teal",flat:"",value:"deposits",to:{name:"DepositProfile"}}},[a("span",[e._v("Deposits")]),a("v-icon",[e._v("monetization_on")])],1),a("v-btn",{attrs:{color:"teal",flat:"",value:"loans",to:{name:"LoanProfile"}}},[a("span",[e._v("Loans")]),a("v-icon",[e._v("assignment_turned_in")])],1),a("v-btn",{attrs:{color:"teal",flat:"",value:"addresses",to:{name:"AddressProfile",params:{addresses:e.addresses}}}},[a("span",[e._v("Addresses")]),a("v-icon",[e._v("place")])],1),a("v-btn",{attrs:{color:"teal",flat:"",value:"payment details",to:{name:"PaymentMethodsProfile",params:{paymentdetails:e.paymentMethods}}}},[a("span",[e._v("Payment Info")]),a("v-icon",[e._v("account_balance_wallet")])],1)],1),a("base-snackbar")],1)},ja=[],Da={name:"MemberArea",data:function(){return{bottomNav:"Dashboard",loggedInUser:JSON.parse(localStorage.getItem("loggedInUser")),addresses:[],paymentMethods:[],dialog:!1,depositAmount:null}},methods:{addDeposit:function(){var e=this,t={deposit_amount:this.depositAmount,phone_number:this.loggedInUser.phoneNumber,member_id:this.loggedInUser.member.memberId};U.post("memberdeposits/account/lipanampesa",te.a.stringify(t)).then(function(t){e.$store.commit("setSnackbar",{msg:"Please wait to confirm your payment",type:"success",model:!0})}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to add deposits at this time",type:"error",model:!0})}),this.dialog=!1},fetchAddresses:function(){var e=this;this.$can("read","AddressDetails")?U.get("/addressdetails/members/".concat(this.loggedInUser.member.memberId)).then(function(t){e.addresses=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load address details at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view address details",type:"error",model:!0})},fetchPaymentMethods:function(){var e=this;this.$can("read","PaymentMethods")?U.get("/paymentdetails/members/".concat(this.loggedInUser.member.memberId)).then(function(t){e.paymentMethods=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load payment details at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view payment details",type:"error",model:!0})},fetchMemberData:function(){var e=this;this.$can("read","Member")?U.get("/members/".concat(this.loggedInUser.member.memberId)).then(function(t){e.member=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to load your details at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view member details",type:"error",model:!0})},logOut:function(){localStorage.removeItem("loggedInUser"),this.$router.push("/")}},created:function(){this.fetchAddresses(),this.fetchPaymentMethods(),this.fetchMemberData()}},Aa=Da,Ca=Object(f["a"])(Aa,Pa,ja,!1,null,null,null),Oa=Ca.exports,Ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-iterator",{attrs:{items:e.contributions,"rows-per-page-items":e.rowsPerPageItems,"content-tag":"v-layout",row:"",wrap:""},scopedSlots:e._u([{key:"item",fn:function(t){return a("v-flex",{attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[a("v-card",[a("v-card-title",[a("h5",[e._v("Deposit ID: "+e._s(t.item.memberDepositId))])]),a("v-divider"),a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[e._v("Payment Method:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.paymentMethod.paymentMethod))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Deposit Amount:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.contributionAmount))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Deposit Amount:")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e.moment(t.item.createdAt).format("MMMM Do YYYY")))])],1),t.item.comment?a("v-list-tile",[a("v-list-tile-content",[e._v("Comment")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.comment))])],1):e._e()],1)],1)],1)}}])},[a("base-snackbar")],1)},Ea=[],Ra={name:"DepositProfile",data:function(){return{moment:pt.a,loggedInUser:JSON.parse(localStorage.getItem("loggedInUser")),contributions:[],rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:3}}},methods:{fetchDeposits:function(){var e=this;this.$can("read","MemberDeposit")?U.get("membercontributions/members/".concat(this.loggedInUser.member.memberId)).then(function(t){e.contributions=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to fetch your contributions at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view member contributions",type:"error",model:!0})}},created:function(){this.fetchDeposits()}},Ya=Ra,Ta=Object(f["a"])(Ya,Ua,Ea,!1,null,null,null),Ba=Ta.exports,za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-iterator",{attrs:{items:e.memberloans,"rows-per-page-items":e.rowsPerPageItems},scopedSlots:e._u([{key:"item",fn:function(t){return a("v-flex",{attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[a("v-card",[a("v-card-title",[e._v("Loan ID: "+e._s(t.item.memberLoanId))]),a("v-divider"),a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[e._v("Loan Type")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.loanType.loanTypeName)+"}")])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Loan Amount")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.loanAmount))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Loan Repayment Status")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.loanRepaymentStatus.loanRepaymentStatus))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Loan Repayment Status")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.repaymentPeriod))])],1),a("v-list-tile",[a("v-list-tile-content",[e._v("Loan Date")]),a("v-list-tile-content",{staticClass:"align-end"},[e._v("\n            "+e._s(e.moment(t.item.createdAt).format("MMMM Do YYYY, h:mm:ss a"))+"\n          ")])],1),a("v-list-tile",[a("v-list-tile-content",[a("router-link",{attrs:{to:"/memberloans/"+t.item.memberLoanId}},[a("v-icon",[e._v("list")])],1)],1)],1)],1)],1)],1)}}])},[a("base-snackbar")],1)},qa=[],Va={name:"MemberLoansProfile",data:function(){return{moment:pt.a,rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:4},memberloans:[],loggedInUser:JSON.parse(localStorage.getItem("loggedInUser"))}},methods:{fetchLoans:function(){var e=this;this.$can("read","MemberLoan")?HTTP.get("loans/member/".concat(this.loggedInUser.member.memberId)).then(function(t){e.memberloans=t.data}).catch(function(t){e.$store.commit("setSnackbar",{msg:"Unable to display your loans at this time",type:"error",model:!0})}):this.$store.commit("setSnackbar",{msg:"You don't have permissions to view member loans",type:"error",model:!0})}}},Fa=Va,Ka=Object(f["a"])(Fa,za,qa,!1,null,null,null),Ga=Ka.exports,Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",[a("v-flex",{attrs:{xs12:"","d-flex":"","justify-center":""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1)],1)},Ja=[],Ha={},Qa=Object(f["a"])(Ha,Wa,Ja,!1,null,null,null),Xa=Qa.exports,Za=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"max-width":"500px"}},[s("base-card",[s("v-card-text",{staticClass:"pa-5"},[s("div",{staticClass:"text-xs-center mb-5"},[s("v-img",{staticClass:"mb-3 mx-auto",staticStyle:{width:"40px"},attrs:{src:a("cf05")}}),s("h1",{staticClass:"headline font-weight-regular mb-3"},[e._v("\n          "+e._s(e.tab?"Welcome":"Sign in")+"\n        ")]),s("div",{staticStyle:{height:"40px"}},[s("v-slide-y-transition",{attrs:{mode:"out-in"}},[e.tab?s("v-chip",{attrs:{outline:""},nativeOn:{click:function(t){e.tab=0}}},[s("v-icon",{attrs:{color:"primary",left:""}},[e._v("account_circle")]),s("span",{staticClass:"body-2",domProps:{textContent:e._s(e.username)}}),s("v-icon",{attrs:{color:"black",right:""}},[e._v("\n                keyboard_arrow_down\n              ")])],1):s("div",{staticClass:"subheading"},[e._v("\n              with your Sacco Account\n            ")])],1)],1)],1),s("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("v-tab-item",[s("partial-email",{on:{next:e.checkUsername},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("v-tab-item",[s("partial-password",{on:{next:e.submit},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1)],1),s("base-snackbar"),s("base-footer")],1)},es=[],ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"elevation-3 mt-3 v-card--auth",attrs:{color:"white"}},[e._t("default")],2)},as=[],ss={},ns=Object(f["a"])(ss,ts,as,!1,null,null,null),is=ns.exports,os=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"caption font-weight-medium body-2 text-xs-right mt-3"})},rs=[],ls={},cs=Object(f["a"])(ls,os,rs,!1,null,null,null),ms=cs.exports,ds=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-text-field",{staticClass:"mb-3",attrs:{autofocus:"",label:"Email or phone",name:"email"},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}}),a("div",{staticClass:"mt-5 mb-3"},[e._v("Don't have an account? Request for one, it's simple!")]),a("v-layout",{attrs:{"align-center":"","justify-space-between":""}},[a("router-link",{attrs:{to:"/signup"}},[a("base-link",[e._v("\n        Request for account\n      ")])],1),a("base-btn",{attrs:{disabled:!e.value,loading:e.isLoading,prominent:""},on:{click:function(t){e.$emit("next")}}},[e._v("\n      Next\n    ")])],1)],1)},us=[],vs={props:["value"],computed:{internalValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},ps=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",e._g(e._b({staticClass:"v-btn--base",attrs:{small:!e.prominent,color:"primary",depressed:""}},"v-btn",e.$attrs,!1),e.$listeners),[e._t("default")],2)},bs=[],hs={inheritAttrs:!1,props:{prominent:Boolean}},fs=hs,gs=(a("1a59"),Object(f["a"])(fs,ps,bs,!1,null,null,null)),ys=gs.exports,_s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"body-2 primary--text"},[e._t("default")],2)},xs=[],ks={},Ns=Object(f["a"])(ks,_s,xs,!1,null,null,null),Ms=Ns.exports,ws={computed:Object(S["a"])({},Object(x["c"])(["isLoading"])),mixins:[vs],components:{BaseBtn:ys,BaseLink:Ms},methods:{}},Ls=ws,Ss=Object(f["a"])(Ls,ds,us,!1,null,null,null),$s=Ss.exports,Is=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-text-field",{staticClass:"mb-3",attrs:{label:"Password",name:"password",type:"password"},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}}),a("div",{staticClass:"text-xs-left"},[a("v-layout",{attrs:{"align-center":"","justify-space-between":""}},[a("v-btn",{staticClass:"v-btn--auth",attrs:{color:"primary",flat:"",small:""}},[e._v("\n        Forgot password\n      ")]),a("v-btn",{staticClass:"text-capitalize ma-0",attrs:{disabled:!e.value,loading:e.isLoading,color:"primary",depressed:""},on:{click:function(t){e.$emit("next")}}},[e._v("\n        Next\n      ")])],1)],1)],1)},Ps=[],js={mixins:[vs],computed:Object(S["a"])({},Object(x["c"])(["isLoading"]))},Ds=js,As=Object(f["a"])(Ds,Is,Ps,!1,null,null,null),Cs=As.exports,Os={components:{BaseCard:is,BaseFooter:ms,PartialEmail:$s,PartialPassword:Cs},data:function(){return{username:void 0,password:void 0,tab:0}},methods:Object(S["a"])({},Object(x["b"])(["setIsLoading"]),{submit:function(){var e=this;this.hasError=!1,this.setIsLoading(!0),I()({method:"post",url:"".concat("https://sedcapi.herokuapp.com","/saccoapp/login"),data:te.a.stringify({username:this.username,password:this.password})}).then(function(t){var a=t.data;a?(e.$store.commit("setLoggedInUser",t.data),e.$store.commit("setSnackbar",{type:"success",msg:"Successfully signed in user ".concat(e.username),model:!0}),e.redirectToDashboard(a.accessLevel)):(e.setIsLoading(!1),e.$store.commit("setSnackbar",{type:"error",msg:"Wrong password",model:!0}))}).catch(function(t){e.$store.commit("setSnackbar",{type:"error",msg:"Unable to log you in",model:!0})})},redirectToDashboard:function(e){"MEMBER"==e?this.$router.push("/member"):this.$router.push("/admin")},checkValidation:function(){this.$store.getters.loggedInUser&&this.$store.getters.loggedInUser.token&&this.redirectToDashboard(this.$store.getters.loggedInUser.accessLevel)},checkUsername:function(){var e=this;this.setIsLoading(!0),I()({method:"post",url:"".concat("https://sedcapi.herokuapp.com","/saccoapp/checkusername"),data:te.a.stringify({username:this.username})}).then(function(t){e.setIsLoading(!1),t.data?e.tab=1:e.$store.commit("setSnackbar",{type:"error",msg:"This username doesn't exists",model:!0})}).catch(function(t){console.log(t),e.$store.commit("setSnackbar",{type:"error",msg:"Unable to log you in",model:!0})})}}),created:function(){this.checkValidation()}},Us=Os,Es=Object(f["a"])(Us,Za,es,!1,null,null,null),Rs=Es.exports;r["default"].use(_["a"]);var Ys=new _["a"]({mode:"history",routes:[{path:"/admin",component:Ia,children:[{path:"addaddress",name:"AddAddress",component:ve},{path:"register",name:"Registration",component:Re},{path:"memberlist",name:"MemberList",component:Ve},{path:"member/:memberId",name:"Member",component:$t},{path:"member/:memberId/edit",name:"MemberUpdate",component:Ct},{path:"addpay",name:"PaymentMethodsCapture",component:ye},{path:"addnominee",name:"AddNominee",component:Le},{path:"memberdeposits",name:"Deposits",component:Tt},{path:"adddeposit",name:"AddDeposit",component:Kt},{path:"memberaccounts",name:"MemberAccounts",component:Xt},{path:"memberloans",name:"MemberLoans",component:na},{path:"memberloans/:memberLoanId",name:"LoanDetails",component:ha},{path:"",name:"Dashboard",component:T},{path:"editaddress/:address",component:Na},{path:"upload",component:Ce}]},{path:"/member",component:Oa,children:[{path:"",name:"MemberDashboard",component:K},{path:"deposits",name:"DepositProfile",component:Ba},{path:"loans",name:"LoanProfile",component:Ga},{path:"addresses",name:"AddressProfile",component:Xe,props:!0},{path:"paymentdetails",name:"PaymentMethodsProfile",component:nt,props:!0}]},{path:"/",component:Xa,children:[{path:"login",component:Rs}]},{path:"*",redirect:"/login"},{path:"/",redirect:"/login"}]});Ys.beforeEach(function(e,t,a){"/login"===e.path&&a(),M.getters.loggedInUser.token||a("/login"),a()});var Ts=Ys,Bs=a("4b58"),zs=Bs["b"].define(function(e){switch(localStorage.getItem("vuex")?JSON.parse(localStorage.getItem("vuex")).loggedInUser.accessLevel:""){case"MEMBER":var t=["read"];e(t,"Member"),e(t,"MemberAccount"),e(t,"AddressDetails"),e(t,"BusinessNature"),e(t,"Business"),e(t,"Constituency"),e(t,"County"),e(t,"Employer"),e(t,"JobTitle"),e(t,"LoanGuarantor"),e(t,"LoanIssuingStatus"),e(t,"LoanRepaymentStatus"),e(t,"LoanType"),e(t,"Locality"),e(t,"MaritalStatus"),e(t,"MemberDeposit"),e(t,"MemberDepositTotal"),e(t,"MemberLoan"),e(t,"Nominee"),e(t,"PaymentMethods"),e(t,"PaymentMethod"),e(t,"PostOffice"),e(t,"Relationship"),e(t,"User");break;case"CLERK":var a=["read","create"];e(a,"Member"),e(a,"MemberAccount"),e(a,"AddressDetails"),e(a,"BusinessNature"),e(a,"Business"),e(a,"Constituency"),e(a,"County"),e(a,"Employer"),e(a,"JobTitle"),e(a,"LoanGuarantor"),e(a,"LoanIssuingStatus"),e(a,"LoanRepaymentStatus"),e(a,"LoanType"),e(a,"Locality"),e(a,"MaritalStatus"),e(a,"MemberDeposit"),e(a,"MemberDepositTotal"),e(a,"MemberLoan"),e(a,"Nominee"),e(a,"PaymentMethods"),e(a,"PaymentMethod"),e(a,"PostOffice"),e(a,"Relationship");break;case"SUPER_ADMIN":var s=["read","create","update","delete"];e(s,"Member"),e(s,"MemberAccount"),e(s,"AddressDetails"),e(s,"BusinessNature"),e(s,"Business"),e(s,"Constituency"),e(s,"County"),e(s,"Employer"),e(s,"JobTitle"),e(s,"LoanGuarantor"),e(s,"LoanIssuingStatus"),e(s,"LoanRepaymentStatus"),e(s,"LoanType"),e(s,"Locality"),e(s,"MaritalStatus"),e(s,"MemberDeposit"),e(s,"MemberDepositTotal"),e(s,"MemberLoan"),e(s,"Nominee"),e(s,"PaymentMethods"),e(s,"PostOffice"),e(s,"Relationship"),e(s,"User");break;default:break}}),qs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{color:e.snackbar.type,timeout:5e3,right:""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("v-icon",{staticClass:"mr-2",attrs:{dark:"warning"!==e.snackbar.type},domProps:{textContent:e._s(e.icon)}}),a("span",{class:"warning"===e.snackbar.type?"black--text":"white--text",domProps:{textContent:e._s(e.snackbar.msg)}})],1)},Vs=[],Fs={error:"error",info:"info",success:"success",warning:"warning"},Ks={data:function(){return{model:Object(x["c"])(["snackbar"]).model}},computed:Object(S["a"])({},Object(x["c"])(["snackbar"]),{icon:function(){return Fs[this.snackbar.type]||"mdi-playlist-check"}}),watch:{snackbar:function(){this.model=!0}}},Gs=Ks,Ws=Object(f["a"])(Gs,qs,Vs,!1,null,null,null),Js=Ws.exports;o()("36dce60f50c734a61194e09802756103");r["default"].component("base-snackbar",Js),r["default"].component("Can",d["a"]),r["default"].config.productionTip=!1,r["default"].use(c.a,{theme:{primary:n.a.indigo.base,secondary:n.a.indigo.lighten2,accent:n.a.indigo.base,error:n.a.red.base,warning:n.a.yellow.base,info:n.a.blue.base,success:n.a.green.base}}),r["default"].use(m["b"]),r["default"].use(u["a"]),r["default"].use(d["b"],zs),new r["default"]({render:function(e){return e(y)},router:Ts,store:M}).$mount("#app")},b9cc:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.a3b1947c.js.map